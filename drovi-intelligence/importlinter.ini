[importlinter]
root_package = src

; ---------------------------------------------------------------------------
; Phase 0 contract: prevent the core from depending on the FastAPI presentation
; layer. This becomes the "first brick" of a hexagonal boundary.
;
; This contract will be expanded in Phase 2 when we introduce:
; - src/kernel
; - src/contexts/*/{domain,application,infrastructure,presentation}
; ---------------------------------------------------------------------------

[importlinter:contract:1]
name = Core must not import src.api (presentation layer)
type = forbidden
source_modules =
    src.kernel
    src.contexts
    src.actuation
    src.agents
    src.analytics
    src.audit
    src.auth
    src.candidates
    src.compliance
    src.connectors
    src.continuum
    src.continuum_exchange
    src.customer
    src.db
    src.documents
    src.events
    src.evidence
    src.finetuning
    src.graph
    src.graphrag
    src.guardrails
    src.identity
    src.ingestion
    src.jobs
    src.llamaindex
    src.llm
    src.mcp
    src.memory
    src.monitoring
    src.notifications
    src.orchestrator
    src.parsers
    src.personalization
    src.search
    src.sensors
    src.sessions
    src.simulation
    src.streaming
    src.transcription
    src.trust
    src.uio
    src.utils
forbidden_modules =
    src.api
